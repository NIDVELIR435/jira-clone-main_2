(this["webpackJsonpjira-clone"]=this["webpackJsonpjira-clone"]||[]).push([[0],{120:function(t,e,n){},122:function(t,e,n){},123:function(t,e,n){},124:function(t,e,n){},125:function(t,e,n){},126:function(t,e,n){},127:function(t,e,n){},128:function(t,e,n){},129:function(t,e,n){},130:function(t,e,n){"use strict";n.r(e);var a,s=n(0),r=n.n(s),c=n(25),i=n.n(c),o=n(16),u=n(166),l=n(29),j=n(68),O=n.n(j),d=function validateFormatAxiosResponse(t){return function(e){return t.parseAsync(e.data)}},f=n(20),b=function id(){return f.a.number()},p=function getAllUsersSchema(){return f.a.array(function userSchema(){return f.a.object({id:b(),name:f.a.string()})}())};!function(t){t.TODO="todo",t.IN_PROGRESS="inProgress",t.DONE="done"}(a||(a={}));var h,m,x,v,k=function getAllTasksSchema(){return f.a.array(function taskSchema(){return f.a.object({id:b(),userId:b(),title:f.a.string(),status:f.a.nativeEnum(a).default(a.TODO)})}())},N=new(n(69).Axios)({baseURL:"https://jsonplaceholder.typicode.com",responseType:"json",transformResponse:function transformResponse(t){return JSON.parse(t)}}),g=n(53),T=n.n(g),S=n(70),y=function(){var t=Object(S.a)(T.a.mark((function _callee(){return T.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",N.get("/users").then(d(p())));case 1:case"end":return t.stop()}}),_callee)})));return function getAllUsers(){return t.apply(this,arguments)}}(),R=n(5),D=(h={},Object(R.a)(h,a.TODO,a.IN_PROGRESS),Object(R.a)(h,a.IN_PROGRESS,a.DONE),Object(R.a)(h,a.DONE,a.TODO),h),w="tasks",E=Object(l.b)("".concat(w,"/fetchTasks"),(function getAllTasks(){return N.get("/todos").then(d(k()))})),A=Object(l.c)({name:w,initialState:{loading:!0,entities:{}},reducers:{setNextTaskState:function setNextTaskState(t,e){var n=e.payload,a=t.entities[n];if(!O.a.isNil(a))return a.status=function getNextStatus(t){return D[t]}(a.status),t}},extraReducers:function extraReducers(t){t.addCase(E.fulfilled,(function(t,e){e.payload.forEach((function(e){t.entities[e.id]=e})),t.loading=!1}))}}),I=A.reducer,U=A.actions.setNextTaskState,C=(m={},Object(R.a)(m,a.TODO,1),Object(R.a)(m,a.IN_PROGRESS,2),Object(R.a)(m,a.DONE,3),m),L=function selectTasksLoading(t){return t.tasks.loading},_=function selectAllTasks(t){var e=t.tasks;return Object.values(e.entities).sort((function(t,e){var n=t.status,a=e.status;return C[n]-C[a]}))},P="users",B=Object(l.b)("".concat(P,"/fetchUsers"),y),G=Object(l.c)({name:P,initialState:{entities:{},loading:!0},reducers:{},extraReducers:function extraReducers(t){t.addCase(B.fulfilled,(function(t,e){e.payload.forEach((function(e){t.entities[e.id]=e,t.loading=!1}))}))}}).reducer,F=function selectUsersLoading(t){return t.users.loading},J=Object(l.a)({reducer:{tasks:I,users:G}}),W=function useAppDispatch(){return Object(o.b)()},H=(o.c,n(165)),$=n(160),z=n(163),M=(x={},Object(R.a)(x,a.TODO,"Todo"),Object(R.a)(x,a.IN_PROGRESS,"In progress"),Object(R.a)(x,a.DONE,"Done"),x),q=function getStatusDisplayName(t){return M[t]},K=n(71),Q=n.n(K),V=n(157),X=n(161),Y=n(162),Z=n(72),tt=n(159),et=n(156),nt=n(158),at=n(10),st=n(75),rt=n.n(st),ct=function sanitizeWhitespaces(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="  ",n=" ",a=t;a.includes(e);)a=a.replaceAll(e,n);return a},it=function stringAvatar(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new rt.a,n=ct(t).split(" "),a=Object(at.a)(n,2),s=a[0];s=void 0===s?"":s;var r=Object(at.a)(s,1),c=r[0],i=void 0===c?"":c,o=a[1];o=void 0===o?"":o;var u=Object(at.a)(o,1),l=u[0],j=void 0===l?"":l;return{sx:{bgcolor:e.hex(t)},children:"".concat(i.toUpperCase()).concat(j.toUpperCase())}},ot=(n(120),n(2)),ut=function UserAvatar(t){var e=t.userId,n=Object(o.c)(F),a=Object(o.c)(function selectUserById(t){return function(e){return e.users.entities[t]}}(e));return n?Object(ot.jsx)(tt.a,{variant:"circular",className:"user-avatar"}):Object(ot.jsx)(et.a,{title:a.name,children:Object(ot.jsx)(nt.a,Object(Z.a)({className:"user-avatar"},it(a.name)))})};!function(t){t.FULL="full",t.SHORT="short"}(v||(v={}));n(122);var lt=function Task(t){var e=t.task,n=t.taskType,a=t.style,s=W(),r=Q.a.flow([function(){return U(e.id)},s]),c=n===v.FULL;return Object(ot.jsxs)(V.a,{className:"task",onClick:r,style:a,children:[Object(ot.jsx)(X.a,{children:Object(ot.jsx)(ut,{userId:e.userId})}),Object(ot.jsx)(Y.a,{primary:e.title,className:"task-title"}),c?Object(ot.jsx)(Y.a,{primary:q(e.status),className:"task-status"}):null]})},jt=(n(123),n(45)),Ot=function TasksBoardColumn(t){var e=t.status,n=Object(o.c)(function selectTasksWithStatus(t){return function(e){var n=e.tasks;return Object.values(n.entities).filter((function(e){return e.status===t}))}}(e));return Object(ot.jsxs)("div",{className:"tasks-board-column-wrapper",children:[Object(ot.jsx)($.a,{variant:"h4",className:"tasks-board-column-title",children:q(e)}),Object(ot.jsx)(z.a,{className:"tasks-board-column-list",children:Object(ot.jsx)(jt.a,{data:n,itemContent:function itemContent(t){return Object(ot.jsx)(lt,{task:n[t],taskType:v.SHORT,style:{}},n[t].id)}})})]})},dt=n(164),ft=(n(124),function Spinner(){return Object(ot.jsx)("div",{className:"spinner-wrapper",children:Object(ot.jsx)(dt.a,{})})}),bt=(n(125),function TasksBoard(){var t=Object(o.c)(L);return Object(ot.jsxs)(H.a,{className:"tasks-board-wrapper",children:[Object(ot.jsx)($.a,{variant:"h3",children:"Board"}),t?Object(ot.jsx)(ft,{}):Object(ot.jsxs)("div",{className:"tasks-board",children:[Object(ot.jsx)(Ot,{status:a.TODO},a.TODO),Object(ot.jsx)(Ot,{status:a.IN_PROGRESS},a.TODO),Object(ot.jsx)(Ot,{status:a.DONE},a.TODO)]})]})}),pt=(n(126),function TasksList(){var t=Object(o.c)(L),e=Object(o.c)(_);return Object(ot.jsxs)(H.a,{className:"tasks-list-wrapper",children:[Object(ot.jsx)($.a,{variant:"h3",children:"Ticket list"}),t?Object(ot.jsx)(ft,{}):Object(ot.jsx)(jt.a,{data:e,itemContent:function itemContent(t){return Object(ot.jsx)(lt,{task:e[t],taskType:v.FULL,style:{}},e[t].id)}})]})}),ht=(n(127),function Jira(){var t=W();return Object(s.useEffect)((function(){t(E()),t(B())}),[]),Object(ot.jsxs)(u.a,{className:"jira-page",children:[Object(ot.jsx)(pt,{}),Object(ot.jsx)(bt,{})]})}),mt=(n(128),function App(){return Object(ot.jsx)(ht,{})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(129);i.a.render(Object(ot.jsx)(r.a.StrictMode,{children:Object(ot.jsx)(o.a,{store:J,children:Object(ot.jsx)(mt,{})})}),document.getElementById("root")),function unregister(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}()}},[[130,1,2]]]);
//# sourceMappingURL=main.608f25f1.chunk.js.map